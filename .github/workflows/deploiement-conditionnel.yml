#
   name: D√©ploiement Conditionnel
   
   # D√©clenchement manuel avec param√®tres d'entr√©e pour plus de contr√¥le
   on:
     workflow_dispatch:
       inputs:
         environment:
           description: 'Environnement de d√©ploiement'
           required: true
           default: 'staging'
           type: choice
           options:
           - staging
           - production
   
   jobs:
     validation:
       runs-on: ubuntu-latest
       steps:
       - name: V√©rifications
         run: |
           echo "Validation des pr√©requis"
           echo "Environnement choisi: ${{ github.event.inputs.environment }}"
     
     deploy:
       runs-on: ubuntu-latest
       needs: validation
       environment: ${{ github.event.inputs.environment }}
       
       steps:
       - name: D√©ploiement
         run: |
           echo "üöÄ D√©ploiement vers ${{ github.event.inputs.environment }}"
           
           if [ "${{ github.event.inputs.environment }}" == "production" ]; then
             echo "üîí D√©ploiement PRODUCTION - v√©rifications renforc√©es"
           else
             echo "üü° D√©ploiement STAGING - environnement de test"
           fi
       
       - name: Notification
         if: always()
         run: |
           if [ "${{ job.status }}" == "success" ]; then
             echo "‚úÖ D√©ploiement r√©ussi"
           else
             echo "‚ùå √âchec du d√©ploiement"
           fi
